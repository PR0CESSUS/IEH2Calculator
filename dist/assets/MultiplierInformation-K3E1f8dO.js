import{d as O,s as x,o as d,c as f,b as t,a0 as $,h as N,$ as V,_ as L,U as v,i as A,e as D,D as z,w as j,t as l,f as B,F as h,a as _,u as r,L as C,a8 as w,G as m,j as b,a9 as I,R as P,S as Y}from"./index-AWyZn4a2.js";const k=O({__name:"Tooltip",setup(o){const a=x(!1),s=x(),n=c=>{if(s.value.textContent=="")return;const e=s.value.getBoundingClientRect(),p=window.innerHeight-20-c.clientY;s.value.style.left=`${c.clientX+20}px`,e.height>p?s.value.style.top=`${c.clientY-(e.height-p)}px`:s.value.style.top=`${c.clientY}px`};return(c,e)=>(d(),f("div",null,[t("div",{class:"trigger",onMouseenter:e[0]||(e[0]=p=>a.value=!0),onMousemove:e[1]||(e[1]=p=>n(p)),onMouseleave:e[2]||(e[2]=p=>a.value=!1)},[$(c.$slots,"default",{},void 0,!0)],32),N(t("div",{class:"tooltip",ref_key:"content",ref:s},[$(c.$slots,"content",{},void 0,!0)],512),[[V,a.value&&s.value.textContent!=""]])]))}}),E=L(k,[["__scopeId","data-v-e718c7c9"]]);function K(o,a=0,s=0){if(o!=0){if(a){if(s>a)return s/a-1<1e-9?void 0:"red";if(s<a)return a/s-1<1e-9?void 0:"green"}return o>0?"green":o<0?"red":""}}function y(o,a){const s={};for(const[n,c]of Object.entries(o))s[n]=c;for(const[n,c]of Object.entries(a))s[n]!=null?s[n]-=c:s[n]=-c;return s}function S(o,a,s=!0){if((a===0||a==null)&&s)return"(NEW)";if((o===0||o==null)&&s)return"(MISSING)";if(!(o==0||a==0||a==null||o==null)){if(a>o)return a/o-1<1e-6?void 0:`(-${v.percent(a/o-1,3)})`;if(a<o)return o/a-1<1e-6?void 0:`(+${v.percent(o/a-1,2)})`}}function M(o,a){const s=y(o,a),n={};for(const[c,e]of Object.entries(s))c=="Base"?n[c]="":n[c]=S(o[c],a[c],!0);return n}const g=o=>(P("data-v-9dcf763b"),o=o(),Y(),o),F={style:{width:"400px"}},G={class:"name"},R=g(()=>t("p",{class:"group"},"Additive:",-1)),U=g(()=>t("br",null,null,-1)),W=g(()=>t("p",{class:"group"},"Multiplicative:",-1)),H=g(()=>t("br",null,null,-1)),X={key:0,name:"superdungeon"},q={class:"right"},J=g(()=>t("br",null,null,-1)),Q=g(()=>t("p",{style:{color:"yellow","text-decoration":"underline","font-size":"14px","text-decoration-color":"#fff"}},"Super Dungeon:",-1)),Z={class:"right"},ee=g(()=>t("br",null,null,-1)),ie={key:1},te=g(()=>t("p",{class:"group"},"After:",-1)),ae=g(()=>t("br",null,null,-1)),ne={style:{"font-size":"14px"}},le=O({__name:"MultiplierInformation",props:{name:{},multiplier:{},valueSuffix:{},inline:{type:Boolean},precision:{}},setup(o){const a=A("game"),s=x(!1),n=o;function c(p){const i={main:v.get(a.data,p),snap:v.get(a.snap,p)};return i.main.Calculate(),i.snap.Calculate(),{raw:i,main:i.main.Snapshot(),snap:i.snap.Snapshot(),diff:{value:i.main.value-i.snap.value,additive:i.main.additive-i.snap.additive,additiveKind:y(i.main.additiveKind,i.snap.additiveKind),multiplicativeKind:y(i.main.multiplicativeKind,i.snap.multiplicativeKind),multiplicative:i.main.multiplicative-i.snap.multiplicative,after:i.main.after-i.snap.after,afterKind:y(i.main.afterKind,i.snap.afterKind)},compare:{value:S(i.main.value,i.snap.value,!1),after:S(i.main.after,i.snap.after,!1),additive:S(i.main.additive,i.snap.additive,!1),additiveKind:M(i.main.additiveKind,i.snap.additiveKind),multiplicativeKind:M(i.main.multiplicativeKind,i.snap.multiplicativeKind),multiplicative:S(i.main.multiplicative,i.snap.multiplicative),afterKind:M(i.main.afterKind,i.snap.afterKind)}}}const e=x(c(n.multiplier));return(p,i)=>(d(),D(E,null,z({default:j(()=>[t("p",{onMouseoverOnce:i[0]||(i[0]=u=>s.value=!0),onClick:i[1]||(i[1]=u=>console.log(e.value)),class:m({underline:!n.inline})},[t("span",{class:m(["nameWrap",{yellow:e.value.main.isLog}])},l(p.name),3),t("span",{class:m([[r(K)(e.value.diff.value,e.value.main.value,e.value.snap.value)],"right"])},l(e.value.compare.value)+" "+l(r(v).convertTo(e.value.main.Value(),n.precision,e.value.main.numberType))+" "+l(n.valueSuffix),3)],34)]),_:2},[s.value?{name:"content",fn:j(()=>[t("div",F,[t("p",G,l(p.name),1),R,(d(!0),f(h,null,B(Object.entries(e.value.diff.additiveKind),([u,T])=>(d(),f("p",null,[e.value.main.additiveKind[u]>0||u=="Base"||e.value.snap.additiveKind[u]>0?(d(),f(h,{key:0},[_(" -"+l(r(C).StatsBreakdown(r(w)[u]))+" ",1),t("span",{class:m(["right",r(K)(T)])},l(e.value.compare.additiveKind[u])+" "+l(u!="Base"?"+":"")+" "+l(r(v).convertTo(e.value.main.additiveKind[u],n.precision,e.value.main.numberType)),3)],64)):b("",!0)]))),256)),t("p",null,[_(" Additive Total:"),t("span",{class:m(["right",r(K)(e.value.diff.additive)])},l(e.value.compare.additive)+" "+l(r(v).convertTo(e.value.main.additive,n.precision,e.value.main.numberType)),3)]),U,W,(d(!0),f(h,null,B(Object.entries(e.value.diff.multiplicativeKind),([u,T])=>(d(),f("p",null,[e.value.main.multiplicativeKind[u]>1||u=="Base"?(d(),f(h,{key:0},[_(" -"+l(r(C).StatsBreakdown(r(w)[u]))+" ",1),t("span",{class:m(["right",r(K)(T)])},l(e.value.compare.multiplicativeKind[u])+" "+l(u!="Base"?"*":"")+" "+l(r(v).convertTo(e.value.main.multiplicativeKind[u],n.precision,r(I).Percent)),3)],64)):b("",!0)]))),256)),t("p",null,[_(" Multiplicative Total: "),t("span",{class:m(["right",r(K)(e.value.diff.multiplicative)])},l(e.value.compare.multiplicative)+" "+l(r(v).convertTo(e.value.main.multiplicative,n.precision,r(I).Percent)),3)]),H,e.value.main.isLog?(d(),f("div",X,[t("p",null,[_(" Temporary Total: "),t("span",q,l(r(v).convertTo(e.value.main.temp,n.precision,e.value.main.numberType)),1)]),J,Q,t("p",null,[_(" Base + Log10([Temporary Total])"),t("span",Z,l(r(v).convertTo(e.value.main.log,n.precision,e.value.main.numberType)),1)]),ee])):b("",!0),e.value.main.after!=0?(d(),f("div",ie,[te,(d(!0),f(h,null,B(Object.entries(e.value.diff.afterKind),([u,T])=>(d(),f("div",null,[e.value.main.afterKind[u]>1?(d(),f(h,{key:0},[_(" -"+l(r(C).StatsBreakdown(r(w)[u]))+" ",1),t("span",{class:m(["right",r(K)(T)])},l(e.value.compare.afterKind[u])+" + "+l(r(v).convertTo(e.value.main.afterKind[u]|0,n.precision,e.value.main.numberType)),3)],64)):b("",!0)]))),256)),t("p",null,[_(" After Total: "),t("span",{class:m(["right",r(K)(e.value.diff.after)])},l(e.value.compare.after)+" "+l(r(v).convertTo(e.value.main.after,n.precision,e.value.main.numberType)),3)]),ae])):b("",!0),t("p",ne,[_(" Total:"),t("span",{name:"value-total",class:m(["right",r(K)(e.value.diff.value)])},l(e.value.compare.value)+" "+l(r(v).convertTo(e.value.main.Value(),n.precision,e.value.main.numberType))+" "+l(n.valueSuffix),3)])])]),key:"0"}:void 0]),1024))}}),se=L(le,[["__scopeId","data-v-9dcf763b"]]);export{se as M,E as T,S as u};
